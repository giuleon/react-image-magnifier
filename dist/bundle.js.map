{"version":3,"sources":["webpack:///webpack/bootstrap 7804f291aeb1329e4852","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./src/components/ImageMagnifierLens.tsx","webpack:///./src/index.tsx"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7804f291aeb1329e4852","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 1\n// module chunks = 0","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport MagnifierProps from './IMagnifierProps';\r\nimport ImageMagnifierLensProps from './IImageMagnifierLensProps';\r\nimport ImageMagnifierLensState from './IImageMagnifierLensState';\r\nimport IOffset from './IOffset';\r\n\r\nexport class Magnifier extends React.Component<MagnifierProps, {}> {\r\n    render (): React.ReactElement<MagnifierProps> {\r\n        let props = this.props;\r\n        let halfSize = props.size / 2;\r\n        let magX = props.zoomImage.width / props.smallImage.width;\r\n        let magY = props.zoomImage.height / props.smallImage.height;\r\n        let bgX = -(props.offsetX*magX - halfSize);\r\n        let bgY = -(props.offsetY*magY - halfSize);\r\n        let isVisible = props.offsetY < props.smallImage.height &&\r\n                        props.offsetX < props.smallImage.width &&\r\n                        props.offsetY > 0 &&\r\n                        props.offsetX > 0;\r\n        return (\r\n            <div style={{\r\n                position: 'absolute',\r\n                display: isVisible ? 'block' : 'none',\r\n                top: props.y,\r\n                left: props.x,\r\n                width: props.size,\r\n                height: props.size,\r\n                marginLeft: -halfSize + props.cursorOffset.x,\r\n                marginTop: -halfSize + props.cursorOffset.y,\r\n                backgroundColor: 'white',\r\n                borderRadius: props.size,\r\n                boxShadow: `1px 1px 6px rgba(0,0,0,0.3)`\r\n            }}>\r\n                <div style={{\r\n                    width: props.size,\r\n                    height: props.size,\r\n                    backgroundImage: `url(${props.zoomImage.src})`,\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: `${bgX}px ${bgY}px`,\r\n                    borderRadius: props.size\r\n                }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class ImageMagnifierLens extends React.Component<ImageMagnifierLensProps, ImageMagnifierLensState> {\r\n    private portalElement: HTMLDivElement = null;\r\n\r\n    constructor(props: ImageMagnifierLensProps, state: ImageMagnifierLensState) {\r\n        super(props);\r\n\r\n        this.setState({\r\n            x: 0,\r\n            y: 0,\r\n            offsetX: -1,\r\n            offsetY: -1\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousemove', this.onMouseMove);\r\n        if (!this.portalElement) {\r\n            this.portalElement = document.createElement('div');\r\n            document.body.appendChild(this.portalElement);\r\n        }\r\n        this.componentDidUpdate();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.body.removeChild(this.portalElement);\r\n        this.portalElement = null;\r\n    }\r\n\r\n    onMouseMove = (e: any) => {\r\n        var offset = this.getOffset(ReactDOM.findDOMNode(this));\r\n\r\n        this.setState({\r\n            x: e.x + window.scrollX,\r\n            y: e.y + window.scrollY,\r\n            offsetX: e.x - offset.x,\r\n            offsetY: e.y - offset.y\r\n        });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        ReactDOM.render(<Magnifier\r\n            size={this.props.size}\r\n            smallImage={this.props.image}\r\n            zoomImage={this.props.zoomImage}\r\n            cursorOffset={this.props.cursorOffset}\r\n            {...this.state}\r\n        />, this.portalElement);\r\n    }\r\n\r\n    private getOffset(el: HTMLDivElement): IOffset {\r\n        let x = 0;\r\n        let y = 0;\r\n    \r\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\r\n            x += el.offsetLeft - el.scrollLeft;\r\n            y += el.offsetTop - el.scrollTop;\r\n            el = el.offsetParent as HTMLDivElement; //el.offsetParent;\r\n        }\r\n        return { x, y };\r\n    }\r\n    \r\n    render () {\r\n        return (\r\n            <img {...this.props} src={this.props.image.src} />\r\n        );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ImageMagnifierLens.tsx","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { ImageMagnifierLens } from \"./components/ImageMagnifierLens\";\r\n\r\nReactDOM.render(\r\n    <div>\r\n        <ImageMagnifierLens\r\n            image={{\r\n                src: \"https://github.com/giuleon/react-image-magnifier/blob/master/src/img/world-map-small.jpg\",\r\n                width: 400,\r\n                height: 300\r\n            }}\r\n            zoomImage={{\r\n                src: \"https://github.com/giuleon/react-image-magnifier/blob/master/src/img/world-map-large.jpg\",\r\n                width: 1600,\r\n                height: 1200\r\n            }}\r\n            cursorOffset={{ x: 80, y: -80 }}\r\n            size={ 200 }\r\n        />\r\n    </div>\r\n,\r\n    document.getElementById(\"app\")\r\n);\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx"],"sourceRoot":""}