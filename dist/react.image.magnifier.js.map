{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react.image.magnifier.js","webpack:///webpack/bootstrap a73801cb30f319e85fb4","webpack:///./app/src/indexPackage.ts","webpack:///./app/src/components/ImageMagnifierLens.tsx","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\",\"umd\":\"react-dom\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","ImageMagnifierLens_1","default","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","__assign","assign","t","arguments","length","React","ReactDOM","Magnifier","_super","apply","render","props","halfSize","size","magX","zoomImage","width","smallImage","magY","height","bgX","offsetX","bgY","offsetY","isVisible","createElement","style","position","display","top","y","left","x","marginLeft","cursorOffset","marginTop","backgroundColor","borderRadius","boxShadow","backgroundImage","src","backgroundRepeat","backgroundPosition","Component","ImageMagnifierLens","state","_this","portalElement","onMouseMove","e","offset","getOffset","findDOMNode","setState","window","scrollX","scrollY","componentDidMount","document","addEventListener","body","appendChild","componentDidUpdate","componentWillUnmount","removeEventListener","removeChild","image","el","isNaN","offsetLeft","offsetTop","scrollLeft","scrollTop","offsetParent"],"mappings":"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","file":"react.image.magnifier.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactD3Treemap\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"ReactD3Treemap\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactD3Treemap\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"ReactD3Treemap\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ImageMagnifierLens_1 = __webpack_require__(1);\r\nexports.default = ImageMagnifierLens_1.default;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar React = __webpack_require__(2);\r\nvar ReactDOM = __webpack_require__(3);\r\nvar Magnifier = (function (_super) {\r\n    __extends(Magnifier, _super);\r\n    function Magnifier() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Magnifier.prototype.render = function () {\r\n        var props = this.props;\r\n        var halfSize = props.size / 2;\r\n        var magX = props.zoomImage.width / props.smallImage.width;\r\n        var magY = props.zoomImage.height / props.smallImage.height;\r\n        var bgX = -(props.offsetX * magX - halfSize);\r\n        var bgY = -(props.offsetY * magY - halfSize);\r\n        var isVisible = props.offsetY < props.smallImage.height &&\r\n            props.offsetX < props.smallImage.width &&\r\n            props.offsetY > 0 &&\r\n            props.offsetX > 0;\r\n        return (React.createElement(\"div\", { style: {\r\n                position: 'absolute',\r\n                display: isVisible ? 'block' : 'none',\r\n                top: props.y,\r\n                left: props.x,\r\n                width: props.size,\r\n                height: props.size,\r\n                marginLeft: -halfSize + props.cursorOffset.x,\r\n                marginTop: -halfSize + props.cursorOffset.y,\r\n                backgroundColor: 'white',\r\n                borderRadius: props.size,\r\n                boxShadow: \"1px 1px 6px rgba(0,0,0,0.3)\"\r\n            } },\r\n            React.createElement(\"div\", { style: {\r\n                    width: props.size,\r\n                    height: props.size,\r\n                    backgroundImage: \"url(\" + props.zoomImage.src + \")\",\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: bgX + \"px \" + bgY + \"px\",\r\n                    borderRadius: props.size\r\n                } })));\r\n    };\r\n    return Magnifier;\r\n}(React.Component));\r\nexports.Magnifier = Magnifier;\r\nvar ImageMagnifierLens = (function (_super) {\r\n    __extends(ImageMagnifierLens, _super);\r\n    function ImageMagnifierLens(props, state) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.portalElement = null;\r\n        _this.onMouseMove = function (e) {\r\n            var offset = _this.getOffset(ReactDOM.findDOMNode(_this));\r\n            _this.setState({\r\n                x: e.x + window.scrollX,\r\n                y: e.y + window.scrollY,\r\n                offsetX: e.x - offset.x,\r\n                offsetY: e.y - offset.y\r\n            });\r\n        };\r\n        _this.setState({\r\n            x: 0,\r\n            y: 0,\r\n            offsetX: -1,\r\n            offsetY: -1\r\n        });\r\n        return _this;\r\n    }\r\n    ImageMagnifierLens.prototype.componentDidMount = function () {\r\n        document.addEventListener('mousemove', this.onMouseMove);\r\n        if (!this.portalElement) {\r\n            this.portalElement = document.createElement('div');\r\n            document.body.appendChild(this.portalElement);\r\n        }\r\n        this.componentDidUpdate();\r\n    };\r\n    ImageMagnifierLens.prototype.componentWillUnmount = function () {\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.body.removeChild(this.portalElement);\r\n        this.portalElement = null;\r\n    };\r\n    ImageMagnifierLens.prototype.componentDidUpdate = function () {\r\n        ReactDOM.render(React.createElement(Magnifier, __assign({ size: this.props.size, smallImage: this.props.image, zoomImage: this.props.zoomImage, cursorOffset: this.props.cursorOffset }, this.state)), this.portalElement);\r\n    };\r\n    ImageMagnifierLens.prototype.getOffset = function (el) {\r\n        var x = 0;\r\n        var y = 0;\r\n        while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\r\n            x += el.offsetLeft - el.scrollLeft;\r\n            y += el.offsetTop - el.scrollTop;\r\n            el = el.offsetParent;\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    ImageMagnifierLens.prototype.render = function () {\r\n        return (React.createElement(\"img\", __assign({}, this.props, { src: this.props.image.src })));\r\n    };\r\n    return ImageMagnifierLens;\r\n}(React.Component));\r\nexports.ImageMagnifierLens = ImageMagnifierLens;\r\nexports.default = ImageMagnifierLens;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// react.image.magnifier.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a73801cb30f319e85fb4","import ImageMagnifierLens from \"./components/ImageMagnifierLens\";\r\nexport default ImageMagnifierLens;\r\n\n\n\n// WEBPACK FOOTER //\n// ./app/src/indexPackage.ts","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport MagnifierProps from './IMagnifierProps';\r\nimport ImageMagnifierLensProps from './IImageMagnifierLensProps';\r\nimport ImageMagnifierLensState from './IImageMagnifierLensState';\r\nimport IOffset from './IOffset';\r\n\r\nexport class Magnifier extends React.Component<MagnifierProps, {}> {\r\n    render (): React.ReactElement<MagnifierProps> {\r\n        let props = this.props;\r\n        let halfSize = props.size / 2;\r\n        let magX = props.zoomImage.width / props.smallImage.width;\r\n        let magY = props.zoomImage.height / props.smallImage.height;\r\n        let bgX = -(props.offsetX*magX - halfSize);\r\n        let bgY = -(props.offsetY*magY - halfSize);\r\n        let isVisible = props.offsetY < props.smallImage.height &&\r\n                        props.offsetX < props.smallImage.width &&\r\n                        props.offsetY > 0 &&\r\n                        props.offsetX > 0;\r\n        return (\r\n            <div style={{\r\n                position: 'absolute',\r\n                display: isVisible ? 'block' : 'none',\r\n                top: props.y,\r\n                left: props.x,\r\n                width: props.size,\r\n                height: props.size,\r\n                marginLeft: -halfSize + props.cursorOffset.x,\r\n                marginTop: -halfSize + props.cursorOffset.y,\r\n                backgroundColor: 'white',\r\n                borderRadius: props.size,\r\n                boxShadow: `1px 1px 6px rgba(0,0,0,0.3)`\r\n            }}>\r\n                <div style={{\r\n                    width: props.size,\r\n                    height: props.size,\r\n                    backgroundImage: `url(${props.zoomImage.src})`,\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundPosition: `${bgX}px ${bgY}px`,\r\n                    borderRadius: props.size\r\n                }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class ImageMagnifierLens extends React.Component<ImageMagnifierLensProps, ImageMagnifierLensState> {\r\n    private portalElement: HTMLDivElement = null;\r\n\r\n    constructor(props: ImageMagnifierLensProps, state: ImageMagnifierLensState) {\r\n        super(props);\r\n\r\n        this.setState({\r\n            x: 0,\r\n            y: 0,\r\n            offsetX: -1,\r\n            offsetY: -1\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.addEventListener('mousemove', this.onMouseMove);\r\n        if (!this.portalElement) {\r\n            this.portalElement = document.createElement('div');\r\n            document.body.appendChild(this.portalElement);\r\n        }\r\n        this.componentDidUpdate();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousemove', this.onMouseMove);\r\n        document.body.removeChild(this.portalElement);\r\n        this.portalElement = null;\r\n    }\r\n\r\n    onMouseMove = (e: any) => {\r\n        var offset = this.getOffset(ReactDOM.findDOMNode(this));\r\n\r\n        this.setState({\r\n            x: e.x + window.scrollX,\r\n            y: e.y + window.scrollY,\r\n            offsetX: e.x - offset.x,\r\n            offsetY: e.y - offset.y\r\n        });\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        ReactDOM.render(<Magnifier\r\n            size={this.props.size}\r\n            smallImage={this.props.image}\r\n            zoomImage={this.props.zoomImage}\r\n            cursorOffset={this.props.cursorOffset}\r\n            {...this.state}\r\n        />, this.portalElement);\r\n    }\r\n\r\n    private getOffset(el: HTMLDivElement): IOffset {\r\n        let x = 0;\r\n        let y = 0;\r\n    \r\n        while( el && !isNaN( el.offsetLeft ) && !isNaN( el.offsetTop ) ) {\r\n            x += el.offsetLeft - el.scrollLeft;\r\n            y += el.offsetTop - el.scrollTop;\r\n            el = el.offsetParent as HTMLDivElement; //el.offsetParent;\r\n        }\r\n        return { x, y };\r\n    }\r\n    \r\n    render () {\r\n        return (\r\n            <img {...this.props} src={this.props.image.src} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default ImageMagnifierLens;\n\n\n// WEBPACK FOOTER //\n// ./app/src/components/ImageMagnifierLens.tsx","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\",\"umd\":\"react\"}\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\",\"umd\":\"react-dom\"}\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}